<?xml version="1.0" encoding="UTF-8"?>
<project name="as3gnuTasks" basedir="." default="all">

	<!-- Properties -->

	<property name="src.dir" value="src/tasks"/>
    <property name="bin.dir" value="bin"/>
    <property name="lib.name" value="${ant.project.name}.jar"/>
    <property name="lib.dir" value="${basedir}/lib"/>
    <property name="lib.out" value="${lib.dir}/${lib.name}"/>
    
    <property name="version.major" value="0" />
    <property name="version.minor" value="7" />
    <property name="version" value="${version.major}.${version.minor}" />
	
	<available file="${lib.out}" property="lib.available" />
	
	<!-- cleans files generated by this build file -->
	
    <target name="clean" description="Delete all generated files">
        <delete dir="${bin.dir}"/>
        <delete dir="${lib.dir}"/>
    </target>
    
    <!-- builds the program -->

    <target name="all" description="Compiles the Task">
		<mkdir dir="${bin.dir}" />
        <javac srcdir="${src.dir}" destdir="${bin.dir}">
			<compilerarg value="-Xlint:unchecked" />
		</javac>
		<mkdir dir="${lib.dir}" />
        <jar destfile="${lib.out}"> 
			<fileset dir="${bin.dir}"/>
			<manifest>
				<attribute name="Built-By" value="Ant ${ant.version}"/>
				<attribute name="Implementation-Vendor" value="Vincent Petithory"/>
				<attribute name="Implementation-Title" value="${ant.project.name}"/>
				<attribute name="Implementation-Version" value="${version}"/>
			</manifest>
		</jar>
		<copy file="${src.dir}/as3gnuTasks.tasks" toDir="${lib.dir}" />
    </target>
    
    <!-- installs the program -->

    <target name="install" description="JARs the Task" if="lib.available">
		
    </target>
	
</project>
